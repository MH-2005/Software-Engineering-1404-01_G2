{% extends "team10/base.html" %}
{% block title %}سفرهای من{% endblock %}

{% block content %}
  <section class="card card--wide">
    <div class="card__head">
      <h2>سفرهای من</h2>
      <div class="badge">List</div>
    </div>

    {% if trips %}
      <div class="table">
        <div class="table__head">
          <div>مقصد</div>
          <div>تاریخ / مدت</div>
          <div>وضعیت</div>
          <div>جزئیات</div>
        </div>

        {% for t in trips %}
          <div class="table__row">
            <div class="cell">
              <div class="title">{{ t.destination_name }}</div>
              {% if t.origin_name %}<div class="muted small">مبدأ: {{ t.origin_name }}</div>{% endif %}
            </div>
            <div class="cell">
              <div class="title">
                {% if t.start_at %}{{ t.start_at }}{% else %}—{% endif %}
                · {{ t.days }} روز
              </div>
              <div class="muted small">
                {% if t.total_cost %}هزینه: {{ t.total_cost }}{% else %}هزینه: نامشخص{% endif %}
                {% if t.budget %} · بودجه: {{ t.budget }}{% endif %}
              </div>
            </div>
            <div class="cell">
              <span class="pill pill--{{ t.status }}">{{ t.get_status_display }}</span>
            </div>
            <div class="cell actions actions--tight">
              <a class="btn btn--sm" href="/team10/trips/{{ t.id }}/">جزئیات</a>
              <a class="btn btn--sm" href="/team10/trips/{{ t.id }}/cost/">هزینه</a>
              <a class="btn btn--sm" href="/team10/trips/{{ t.id }}/styles/">سبک‌ها</a>
            </div>
          </div>
        {% endfor %}
      </div>
    {% else %}
      <div class="empty">
        <div class="empty__title">چیزی برای نمایش نیست</div>
        <div class="muted">اگر DB هنوز migrate نشده، اول migrate کنید یا از Home سفر بسازید.</div>
      </div>
    {% endif %}
  </section>
{% endblock %}
